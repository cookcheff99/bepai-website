<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>BEPAI – USDT (BSC)</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Arial,Helvetica,sans-serif;
  background:#050505;
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}
.container{
  width:420px;
  background:rgba(0,0,0,.85);
  border:1px solid rgba(255,255,255,.1);
  padding:40px;
  text-align:center;
}
h1{margin-top:0;letter-spacing:4px}
button{
  width:100%;
  padding:14px;
  background:#fff;
  color:#000;
  border:none;
  cursor:pointer;
  font-weight:bold;
  margin-top:16px;
}
button:hover{opacity:.85}
input{
  width:100%;
  padding:12px;
  margin-top:12px;
  background:#111;
  color:#fff;
  border:1px solid #333;
}
.info{
  margin-top:14px;
  font-size:14px;
  color:#ccc;
  word-break:break-all;
}
.warning{
  margin-top:18px;
  font-size:13px;
  color:#f39c12;
}
.ok{color:#2ecc71}
.err{color:#e74c3c}
</style>
</head>

<body>

<div class="container">
  <h1>BEPAI</h1>

  <button onclick="connectWallet()">Connect Wallet</button>

  <div class="info" id="status"></div>
  <div class="info" id="walletAddress"></div>

  <input
    type="number"
    id="amount"
    placeholder="Amount to send (USDT)"
    step="0.01"
    min="0"
  >

  <button onclick="sendUSDT()">Send USDT</button>

  <div class="warning">
    This is a real BSC USDT transfer.<br>
    MetaMask confirmation is required.
  </div>
</div>

<!-- ethers.js -->
<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>

<script>
let provider, signer;

/* ⛔️ SABİT ALICI ADRESİ (BEP-20 USDT) */
const RECEIVER_ADDRESS = "0x93e419998ee56ead701a194fe28def8b23f956dd";

/* BSC MAINNET PARAMS */
const BSC_PARAMS = {
  chainId: "0x38", // 56
  chainName: "BNB Smart Chain",
  nativeCurrency: { name: "BNB", symbol: "BNB", decimals: 18 },
  rpcUrls: ["https://bsc-dataseed.binance.org/"],
  blockExplorerUrls: ["https://bscscan.com/"]
};

/* BSC USDT (BEP-20) CONTRACT */
const USDT_ADDRESS = "0x55d398326f99059fF775485246999027B3197955";
const USDT_ABI = [
  "function decimals() view returns (uint8)",
  "function balanceOf(address) view returns (uint256)",
  "function transfer(address to, uint256 amount) returns (bool)"
];

async function connectWallet(){
  const status = document.getElementById("status");
  if(!window.ethereum){
    status.innerHTML = "<span class='err'>MetaMask not found</span>";
    return;
  }

  try{
    await window.ethereum.request({
      method: "wallet_switchEthereumChain",
      params: [{ chainId: BSC_PARAMS.chainId }]
    });
  }catch(err){
    if(err.code === 4902){
      await window.ethereum.request({
        method: "wallet_addEthereumChain",
        params: [BSC_PARAMS]
      });
    }else{
      status.innerHTML = "<span class='err'>Network switch rejected</span>";
      return;
    }
  }

  provider = new ethers.providers.Web3Provider(window.ethereum);
  await provider.send("eth_requestAccounts", []);
  signer = provider.getSigner();

  const address = await signer.getAddress();
  status.innerHTML = "<span class='ok'>Connected to BSC Mainnet</span>";
  document.getElementById("walletAddress").innerText = "Wallet: " + address;
}

async function sendUSDT(){
  if(!signer){
    alert("Connect wallet first");
    return;
  }

  const amountInput = document.getElementById("amount").value;
  if(!amountInput || amountInput <= 0){
    alert("Enter a valid USDT amount");
    return;
  }

  try{
    const usdt = new ethers.Contract(USDT_ADDRESS, USDT_ABI, signer);
    const decimals = await usdt.decimals();
    const amount = ethers.utils.parseUnits(amountInput, decimals);

    const tx = await usdt.transfer(RECEIVER_ADDRESS, amount);

    alert(
      "USDT transfer sent on BSC.\n\nTX Hash:\n" + tx.hash +
      "\n\nView on BscScan:\nhttps://bscscan.com/tx/" + tx.hash
    );
  }catch(err){
    console.error(err);
    alert("Transaction cancelled or failed");
  }
}
</script>

</body>
</html>
